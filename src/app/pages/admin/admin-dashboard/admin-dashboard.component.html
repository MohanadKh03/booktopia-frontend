<div class="container-fluid py-4">
  <div class="row g-4">
    <!-- Stats Cards -->
    <div class="col-xl-3 col-sm-6">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0">
              <div class="stats-icon bg-primary bg-opacity-10 text-primary">
                <i class="fas fa-book"></i>
              </div>
            </div>
            <div class="flex-grow-1 ms-3">
              <h6 class="mb-1">Total Books</h6>
              <h3 class="mb-0">{{totals.totalBooks}}</h3>
              <small class="text-success">
                <i class="fas fa-arrow-up me-1"></i>12% increase
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-sm-6">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0">
              <div class="stats-icon bg-success bg-opacity-10 text-success">
                <i class="fas fa-shopping-cart"></i>
              </div>
            </div>
            <div class="flex-grow-1 ms-3">
              <h6 class="mb-1">Total Orders</h6>
              <h3 class="mb-0">{{totals.totalOrders}}</h3>
              <small class="text-success">
                <i class="fas fa-arrow-up me-1"></i>8% increase
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-sm-6">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0">
              <div class="stats-icon bg-info bg-opacity-10 text-info">
                <i class="fas fa-users"></i>
              </div>
            </div>
            <div class="flex-grow-1 ms-3">
              <h6 class="mb-1">Total Users</h6>
              <h3 class="mb-0">{{totals.totalUsers}}</h3>
              <small class="text-success">
                <i class="fas fa-arrow-up me-1"></i>15% increase
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-3 col-sm-6">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="flex-shrink-0">
              <div class="stats-icon
                bg-warning bg-opacity-10 text-warning">
                <i class="fas fa-dollar-sign"></i>
              </div>
            </div>
            <div class="flex-grow-1 ms-3">
              <h6 class="mb-1">Total Revenue</h6>
              <h3 class="mb-0">$ {{
                totalPrice
                }}</h3>
              <small class="text-success">
                <i class="fas fa-arrow-up me-1"></i>15% increase
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



  <!-- Charts Row -->
  <div class="row g-4 mt-2">
    <!-- Top Selling Books Section -->
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h5 class="card-title mb-4">Top Selling Books</h5>
          <div class="top-selling-books">
            <div *ngFor="let book of topSellingBooks" class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h6 class="mb-0">{{ book.title }}</h6>
                <small class="text-muted">Price: ${{ book.price }}</small>
                <br>
                <small class="text-muted">{{ book.sold }} sold</small>
              </div>
              <div style="width: 60%; margin-left: 10px;">
                <div class="progress" style="height: 10px;">
                  <div class="progress-bar" [ngStyle]="{'width': (book.sold / book.stock * 100) + '%'}"
                    [class.bg-success]="book.sold / book.stock > 0.5"
                    [class.bg-warning]="book.sold / book.stock <= 0.5 && book.sold / book.stock > 0.2"
                    [class.bg-danger]="book.sold / book.stock <= 0.2">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Top Categories Section -->
    <div class="col-lg-4">
      <div class="card border-0 shadow-sm">
        <div class="card-body">
          <h5 class="card-title mb-4">Top Categories</h5>
          <div class="category-stats">
            <div *ngFor="let topCategorie of topCategories"
              class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h6 class="mb-0">{{ topCategorie.category }}</h6>
                <small class="text-muted">{{ topCategorie.count }} books</small>
              </div>
              <div class="progress" style="width: 100px">
                <div class="progress-bar" [ngStyle]="{'width': (topCategorie.count / totalCount * 100) + '%'}"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>


<!-- Navigation Links -->
<div class="container p-2 border-bottom border-black">
  <ul class="nav d-flex justify-content-evenly">
    <li class="nav-item">
      <a class="nav-link text-black" routerLink="orders" routerLinkActive="active  fw-semibold">
        <i class="fas fa-clipboard-list"></i> Orders
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link text-black" routerLink="books" routerLinkActive="active  fw-semibold">
        <i class="fas fa-layer-group"></i> Books
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link text-black" routerLink="categories" routerLinkActive="active  fw-semibold">
        <i class="fas fa-shapes"></i> Categories
      </a>
    </li>
  </ul>
</div>

<!-- Followers/Following List -->
<div class="container py-3">
  <router-outlet></router-outlet>
</div>